{
  "meta": {
    "project": "PickProd",
    "date": "2026-02-06",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "PickProd is a logistics productivity management system designed to optimize operations of order picking and handling, providing real-time insights and operational controls for managers.",
  "core_goals": [
    "Provide a comprehensive dashboard for real-time and historical performance visualization.",
    "Enable seamless data import from external systems for accurate productivity tracking.",
    "Allow detailed operational management of productivity metrics per load and employee.",
    "Implement automated discount rules impacting bonus calculations based on attendance and conduct.",
    "Centralize base entity management including employees and branches to maintain data integrity.",
    "Support report generation for operational and financial analysis, facilitating payment and performance review."
  ],
  "key_features": [
    "Dashboard featuring KPIs such as total productivity bonus, percentage achievement, total loads, orders, tonnage, volume, pallets estimation, and average handling time, with dynamic temporal and comparative charts.",
    "Excel upload and processing module with automated column detection, data preview, validation, duplication prevention, and database persistence.",
    "Productivity management interface allowing employee assignment, time tracking, error logging, note-taking, and record editing for each load.",
    "Discount management with automatic application of absence, warning, suspension, and medical certificate based discount policies.",
    "Base system configuration modules for managing employees, branches, roles, and statuses with import/export via Excel.",
    "Report generation tools (in development) for exporting consolidated data to support payment calculations and performance analysis."
  ],
  "user_flow_summary": [
    "User logs in or registers, authenticated with access control middleware defining user roles.",
    "User accesses Dashboard to view KPIs and trend visualizations, filtering data by time and operational parameters.",
    "User uploads Excel files for batch data import, previews content, validates entries, and confirms data persistence.",
    "User manages productivity records by assigning employees to loads, recording times and errors, and editing operational data inline.",
    "User manages discount records applying predefined business rules impacting monthly bonus calculations.",
    "Administrator manages user, branch, and role data through configuration panels, including bulk data import/export.",
    "Reports and results module accessed for data export and performance review as available."
  ],
  "validation_criteria": [
    "Correct user authentication and access control for different user roles.",
    "Accurate real-time and historical KPIs and graphical data representation with applied filters.",
    "Successful parsing, validation, preview, and prevention of duplicate Excel data imports.",
    "Reliable inline editing and calculations for productivity management without data loss.",
    "Proper application of discount rules reflecting on bonus and result calculations.",
    "Integrity and consistency of base entity data management including employee and branch records.",
    "Functionality and correctness of report generation and data export (once developed)."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16 (App Router)",
      "Supabase (PostgreSQL, Auth, SSR)",
      "Tailwind CSS v4",
      "Shadcn UI",
      "Recharts",
      "Lucide React",
      "XLSX",
      "ExcelJS",
      "Zod",
      "React Hook Form"
    ],
    "features": [
      {
        "name": "Autenticação e Controle de Acesso",
        "description": "Sistema de login, cadastro e proteção de rotas via middleware com suporte a múltiplos níveis de acesso (novo, colaborador, admin).",
        "files": [
          "src/app/login/page.tsx",
          "src/app/cadastro/page.tsx",
          "src/middleware.ts",
          "src/lib/supabase/middleware.ts"
        ]
      },
      {
        "name": "Dashboard Analítico",
        "description": "Visualização de KPIs principais, gráficos de performance e evolução temporal com filtros dinâmicos.",
        "files": [
          "src/app/(dashboard)/dashboard/page.tsx",
          "src/lib/dashboard-filters.ts"
        ]
      },
      {
        "name": "Upload e Processamento de Dados",
        "description": "Importação de arquivos Excel (.xlsx) com pré-visualização e validação antes da persistência no banco.",
        "files": [
          "src/app/(dashboard)/upload/page.tsx"
        ]
      },
      {
        "name": "Gestão de Produtividade",
        "description": "Controle de cargas, edição inline de dados operacionais e cálculos automáticos de produtividade.",
        "files": [
          "src/app/(dashboard)/produtividade/page.tsx",
          "src/lib/calculos.ts"
        ]
      },
      {
        "name": "Gestão de Descontos",
        "description": "Cadastro e aplicação de descontos por colaborador baseados em faltas, advertências e atestados.",
        "files": [
          "src/app/(dashboard)/descontos/page.tsx"
        ]
      },
      {
        "name": "Fechamento e Resultados",
        "description": "Cálculo de bônus mensal e atingimento de metas com base nas métricas de produtividade e descontos.",
        "files": [
          "src/app/(dashboard)/resultado/page.tsx"
        ]
      },
      {
        "name": "Gestão de Cadastros",
        "description": "Administração de colaboradores, filiais e funções.",
        "files": [
          "src/app/(dashboard)/cadastros/page.tsx"
        ]
      },
      {
        "name": "Relatórios",
        "description": "Geração de relatórios operacionais em diversos formatos.",
        "files": [
          "src/app/(dashboard)/relatorios/page.tsx",
          "src/lib/relatorios.ts"
        ]
      },
      {
        "name": "Configurações do Sistema",
        "description": "Painel administrativo para gestão de usuários e regras de negócio.",
        "files": [
          "src/app/(dashboard)/configuracoes/page.tsx"
        ]
      }
    ]
  }
}
